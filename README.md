# Детекция логотипа Т-Банка

 Сервис возвращает координаты найденных логотипов в формате bounding box.



### Запуск через Docker 

1. Скачайте файл с весами модели ([ссылка](https://huggingface.co/Ultralytics/YOLOv8/blob/main/yolov8n.pt))
2. Поместите его в папку `weights/` 
```bash
docker-compose up --build
```

Сервис будет доступен по адресу: http://localhost:8000

### Проверка работы

Выполните команду:
```bash
curl http://localhost:8000/health
```

В ответе должно быть:
```json
{"status":"healthy","model_loaded":true}
```

## Как пользоваться


### Через командную строку

```bash
curl -X 'POST' \
  'http://localhost:8000/detect' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -F 'file=@ваше_изображение.jpg'
```

### Пример ответа

```json
{
  "detections": [
    {
      "bbox": {
        "x_min": 100,
        "y_min": 150,
        "x_max": 200,
        "y_max": 250
      }
    }
  ]
}
```

## Результаты обучения модели

После обучения модель показала следующие результаты:

- **Точность (Precision)**: 59.9% - из всех обнаруженных объектов 60% действительно являются логотипами
- **Полнота (Recall)**: 44.7% - модель находит менее половины всех существующих логотипов
- **mAP50**: 53.7% - средняя точность при пороге 50%
- **mAP50-95**: 39.5% - средняя точность при различных порогах (от 50% до 95%)

### Анализ результатов

Модель работает умеренно, но есть возможности для улучшения:

1. **Основная проблема**: низкая полнота (Recall) - модель пропускает более половины логотипов
2. **Точность приемлемая**: большинство обнаруженных объектов действительно являются логотипами
3. **Возможные улучшения**:
   - Увеличить объем обучающих данных
   - Улучшить качество разметки
   - Настроить параметры обучения (нужно было увеличить размер изображения и количество эпох для обучения)
   - Попробовать другие архитектуры моделей





### Переобучение модели

Если хотите переобучить модель:

1. Подготовьте данные в папке `data/raw/`
2. Запустите автоматическую разметку:
```bash
python scripts/prepare_dataset.py
```
3. Обучите модель:
```bash
python scripts/train_model.py
```



## Технические особенности

- Модель основана на YOLOv8
- Используется автоматическая разметка с помощью YOLO-World
- API реализовано на FastAPI
- Поддержка Docker для простого развертывания

## Возможные проблемы 

1. **Медленная работа**
2. **Не находит логотипы**
3. **Ошибки памяти**

